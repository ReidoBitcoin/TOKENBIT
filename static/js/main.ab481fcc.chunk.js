(this["webpackJsonpprojeto-bitcoin"]=this["webpackJsonpprojeto-bitcoin"]||[]).push([[0],{269:function(e,t,n){},349:function(e,t){},358:function(e,t){},372:function(e,t){},374:function(e,t){},391:function(e,t){},392:function(e,t){},444:function(e,t){},446:function(e,t){},455:function(e,t){},457:function(e,t){},482:function(e,t){},484:function(e,t){},485:function(e,t){},491:function(e,t){},504:function(e,t){},516:function(e,t){},519:function(e,t){},524:function(e,t){},535:function(e,t){},538:function(e,t){},593:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n(71),s=n.n(c),o=(n(269),n(598)),i=n(72),l=n(599),u=Object(r.createContext)(),d=n.p+"static/media/reibitCripto.6c6de18b.png";var p=function(){return Object(a.jsx)("div",{style:{width:"100%",height:"120px",backgroundColor:"#363636"},children:Object(a.jsxs)("div",{style:{width:"1000px",height:"100%",display:"block",margin:"0 auto"},children:[Object(a.jsx)("div",{style:{height:"100%",display:"table",float:"left",margin:"0 350px"},children:Object(a.jsx)("h1",{style:{color:"#f79007",height:"100%",display:"table-cell",verticalAlign:"middle",fontSize:"30px"},children:"REI DO BITCOIN"})}),Object(a.jsx)("div",{style:{float:"right",height:"100%"},children:Object(a.jsx)("div",{style:{height:"100%",display:"table",float:"left",padding:"0px 20px",margin:"0 -400px"},children:Object(a.jsx)("img",{src:d,alt:"Reibit-Cripto",width:"100px",style:{display:"table-cell",verticalAlign:"middle",height:"82%",paddingTop:"6px"}})})})]})})},j=n(31),b=(n(102),n(15)),h={border:"1px solid #f79007",borderRadius:"5px",marginRight:"auto",marginLeft:"auto",width:"70%",paddingTop:"20px",textAlign:"center"};var x=function(e){var t=e.children,n=e.style;return Object(a.jsxs)(b.a,{style:Object(j.a)(Object(j.a)({},h),n),children:[t,Object(a.jsx)("small",{children:"v1.2a"})]})},m=n(23),O=n(45),f=n(14),y=n.n(f),v=n(24),g=n(52),w={width:"100%",display:"flex",justifyContent:"space-around"},k=function(e){var t=e.to,n=e.from,c=e.avaiable,s=Object(r.useContext)(u).setKey,o=function(){var e=Object(v.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{style:w,children:[n&&Object(a.jsx)(g.a,{variant:"danger",column:"true",type:"button",onClick:function(){s(n)},children:"Back"}),Object(a.jsx)(g.a,{variant:"info",column:"true",type:"button",disabled:!c,onClick:o,children:"Next"})]})};var T=function(){var e=Object(r.useContext)(u).accounts;return Object(a.jsxs)(x,{children:[Object(a.jsx)("h1",{className:"text-center mt-4 mb-4",children:"Welcome to Token Creator Wizard"}),Object(a.jsx)(O.a,{className:"justify-content-md-center",children:Object(a.jsxs)(b.a.Group,{as:O.a,className:"text-center mt-2 mb-2",style:{paddingTop:"20px",width:"100vw"},children:[Object(a.jsx)(m.a,{md:"6",children:Object(a.jsx)(b.a.Check,{defaultChecked:!0,column:"true",id:"token-type",label:"Fixed Supply ERC-20",name:"token",required:!0,style:{paddingBottom:"20px",paddingTop:"15px"},type:"radio",value:"token"})}),Object(a.jsx)(b.a.Text,{style:{paddingBottom:"20px",paddingTop:"15px"},children:"Total supply is created on contract deployment, making the supply fixed."})]})}),Object(a.jsx)(k,{to:"attributes",avaiable:e.length})]})},C=n(97),N=n(30),S=n(47),E=n.n(S),A=1e15,B={name:E.a.string().min(3).max(25).required(),symbol:E.a.string().min(3).max(4).required(),supply:E.a.number().integer().min(1).max(A).required(),owner:E.a.string().regex(/^0x[a-fA-F0-9]{40}$/)},R=E.a.object(B),L=E.a.object(Object(j.a)({owner:E.a.string().regex(/^0x[a-fA-F0-9]{40}$/).required()},B)),D=function(e){return function(t){var n=e.validate(t).error;if(n)throw new Error(n.details[0].message)}},H={paddingBottom:"20px",paddingTop:"15px"},F={borderBottom:"1px solid #f79007",borderTop:"none",paddingTop:"10px",paddingLeft:"20px"},I={paddingBottom:"30px",textAlign:"left"};var K=function(){var e=Object(r.useContext)(u),t=e.tokenData,n=e.setTokenData,c=Object(r.useState)(t),s=Object(N.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)(!1),d=Object(N.a)(l,2),p=d[0],h=d[1];Object(r.useEffect)((function(){n(o);try{D(R)(o),h(!0)}catch(e){h(!1)}}),[o,n]);var f=function(e){var t=e.target;i(Object(j.a)(Object(j.a)({},o),{},Object(C.a)({},t.name,t.value)))};return Object(a.jsxs)(x,{children:[Object(a.jsxs)(b.a.Group,{as:O.a,className:"text-center md-4",style:{paddingTop:"20px"},children:[Object(a.jsx)(b.a.Label,{column:"true",md:5,htmlFor:"name",style:H,children:"Token Name"}),Object(a.jsxs)(m.a,{md:6,children:[Object(a.jsx)(b.a.Control,{style:F,plaintext:!0,type:"text",placeholder:"Token name*",id:"name",name:"name",label:"Token name",onChange:f,value:t.name}),Object(a.jsx)(b.a.Text,{id:"nameHelpBlock",style:I,children:"The name of the token, 3-25 symbols. Alphanumerical characters, space, and hyphen are accepted."})]}),Object(a.jsx)(b.a.Label,{column:"true",md:5,htmlFor:"symbol",style:H,children:"Token Symbol"}),Object(a.jsxs)(m.a,{md:6,children:[Object(a.jsx)(b.a.Control,{style:F,plaintext:!0,type:"text",placeholder:"Token symbol*",id:"symbol",name:"symbol",onChange:f,value:t.symbol}),Object(a.jsx)(b.a.Text,{style:I,children:"3-4 characters (example ETH, BTC, BAT, etc.). No spaces. Only alphanumerical characters."})]}),Object(a.jsx)(b.a.Label,{column:"true",md:5,htmlFor:"supply",style:H,children:"Total Supply"}),Object(a.jsxs)(m.a,{md:6,children:[Object(a.jsx)(b.a.Control,{style:F,plaintext:!0,type:"number",placeholder:"Total supply*",id:"supply",name:"supply",min:1,max:A,step:1,onChange:f,value:t.supply}),Object(a.jsxs)(b.a.Text,{style:I,children:["Total amount of tokens to be generated. Minimum value is 1, and maximum ",A,"."]})]})]}),Object(a.jsx)(k,{from:"token",to:"payment",avaiable:p})]})},P=n(100),q=n.n(P),G="https://rei-btc.herokuapp.com/",J=function(){var e=Object(v.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(L)(t),e.next=4,q.a.post(G,t);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(0),n=e.t0.response.data,new Error(n.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(v.a)(y.a.mark((function e(t,n){var a,r,c,s,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.hash,r={"Content-Type":"application/json",Authorization:n},e.prev=2,e.next=5,q.a.post("".concat(G,"payment"),{hash:a},{headers:r});case 5:return c=e.sent,s=c.data,e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(2),o=e.t0.response.data,new Error(o.message);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(v.a)(y.a.mark((function e(t){var n,a,r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",Authorization:t},e.prev=1,e.next=4,q.a.post("".concat(G,"confirm"),{},{headers:n});case 4:return a=e.sent,r=a.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),c=e.t0.response,new Error(c.data.message);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(v.a)(y.a.mark((function e(t,n,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){t.request({method:n,params:a}).then((function(t){e(t)})).catch((function(e){console.error(e),r()}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(v.a)(y.a.mark((function e(t,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(v.a)(y.a.mark((function e(a,r){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=setInterval(Object(v.a)(y.a.mark((function e(){var s,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(t,"eth_getTransactionByHash",[n]);case 3:s=e.sent,null!==(o=s.blockHash)&&(clearInterval(c),a(o)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),clearInterval(c),r();case 12:case 13:case"end":return e.stop()}}),e,null,[[0,8]])}))),3e3);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=n(101),Y={paddingBottom:"20px",paddingTop:"15px"},$={display:"flex",alignItems:"flex-end",justifyContent:"center"};var U=function(){var e=Object(r.useContext)(u),t=e.setKey,n=e.ethereum,c=e.accounts,s=e.tokenData,o=e.setTokenData,i=e.setJwt,l=e.jwt,d=Object(r.useState)(null),p=Object(N.a)(d,2),h=p[0],f=p[1],w=Object(r.useState)(!1),T=Object(N.a)(w,2),C=T[0],S=T[1],E=Object(r.useState)(!1),A=Object(N.a)(E,2),B=A[0],R=A[1];Object(r.useEffect)((function(){s.owner&&L(s.owner)}),[s]),Object(r.useEffect)((function(){try{var e=function(e){if(""!==e)try{return JSON.parse(atob(e.split(".")[1])).payload}catch(n){var t=n.response.data;throw new Error(t.message)}}(l).payment;f(e)}catch(t){f(null)}}),[l]);var L=function(){var e=Object(v.a)(y.a.mark((function e(){var t,n,a,r,c,o=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:null,R(!0),e.prev=2,n=t?Object(j.a)(Object(j.a)({},s),{},{owner:t}):s,e.next=6,J(n);case 6:a=e.sent,r=a.data.token,i(r),R(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),c=e.t0.message,alert(c);case 16:case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(v.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.target).value){e.next=3;break}return e.abrupt("return");case 3:return o(Object(j.a)(Object(j.a)({},s),{},{owner:n.value})),e.next=6,L(n.value);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(v.a)(y.a.mark((function e(){var a,r,c,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=V.utils.toWei(h.amount),r=[{from:s.owner,to:h.address,value:V.utils.toHex(a)}],e.next=4,z(n,"eth_sendTransaction",r);case 4:return c=e.sent,S(!0),e.prev=6,e.next=9,M(n,V.utils.toHex(c));case 9:o(Object(j.a)(Object(j.a)({},s),{},{hash:c})),t("confirmation"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),i=e.t0.message,alert(i);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}();return C?Object(a.jsx)(x,{children:Object(a.jsxs)("div",{style:{textAlign:"center",paddingBottom:"16px"},children:[Object(a.jsx)("h3",{children:"DO NOT REFRESH OR LEAVE THIS PAGE!"}),Object(a.jsx)("p",{children:"Refreshing or leaving the page will invalid contract deployment"}),Object(a.jsx)("div",{className:"spinner-border",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})]})}):Object(a.jsxs)(x,{children:[Object(a.jsx)(b.a.Group,{as:O.a,className:"text-center",style:{paddingTop:"20px"},children:Object(a.jsx)(m.a,{className:"text-center",md:12,children:Object(a.jsxs)(b.a.Group,{as:m.a,style:$,children:[Object(a.jsxs)("div",{style:{width:"60%"},children:[Object(a.jsx)(b.a.Label,{column:"true",htmlFor:"wallet_select",style:Y,children:"Wallet to deploy"}),Object(a.jsxs)(b.a.Control,{as:"select",id:"wallet_select",defaultValue:s.owner||"",onChange:D,children:[s.owner||Object(a.jsx)("option",{value:"",children:"Choose Wallet..."}),c.map((function(e,t){return Object(a.jsx)("option",{children:e},t)}))]})]}),l&&Object(a.jsx)(g.a,{variant:"warning",type:"button",onClick:function(){return L()},children:"Refresh"})]})})}),B&&Object(a.jsx)("div",{className:"spinner-border",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})}),h?Object(a.jsx)(b.a.Group,{as:O.a,className:"text-center",style:{paddingTop:"20px"},children:Object(a.jsxs)(m.a,{className:"text-center",md:12,children:[Object(a.jsxs)("p",{children:["O valor total para a cria\xe7\xe3o do seu token \xe9: ",Object(a.jsx)("span",{children:"".concat(h.amount," eth")}),". Clique no bot\xe3o abaixo para confirmar a transa\xe7\xe3o"]}),Object(a.jsx)(g.a,{variant:"success",column:"true",type:"button",onClick:H,children:"Start Payment"})]})}):"",Object(a.jsx)(k,{from:"attributes"})]})},Q={paddingBottom:"20px",paddingTop:"15px"},X={borderBottom:"1px solid #f79007",borderTop:"none",paddingTop:"10px",paddingLeft:"20px"},Z={paddingBottom:"30px",textAlign:"left"};var ee=function(){var e=Object(r.useContext)(u),t=e.setKey,n=e.tokenData,c=e.jwt,s=e.setJwt,o=function(){var e=Object(v.a)(y.a.mark((function e(){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(n,c);case 3:a=e.sent,s(a.token),t("loading"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(x,{children:[Object(a.jsx)("h2",{className:"text-center mt-4 mb-4",children:"Contract Parameters:"}),Object(a.jsxs)(b.a.Group,{as:O.a,className:"text-center mt-4 mb-4",children:[Object(a.jsx)(b.a.Label,{column:"true",md:5,htmlFor:"name",style:Q,children:"Token Name"}),Object(a.jsxs)(m.a,{md:6,children:[Object(a.jsx)(b.a.Control,{readOnly:!0,style:X,plaintext:!0,type:"text",value:n.name,id:"name",name:"tname",label:"Token name"}),Object(a.jsx)(b.a.Text,{style:Z,children:"The name of the token, 3-25 symbols. Alphanumerical characters, space, and hyphen are accepted."})]}),Object(a.jsx)(b.a.Label,{column:"true",md:5,htmlFor:"symbol",style:Q,children:"Token Symbol"}),Object(a.jsxs)(m.a,{md:6,children:[Object(a.jsx)(b.a.Control,{readOnly:!0,style:X,plaintext:!0,type:"text",id:"symbol",value:n.symbol}),Object(a.jsx)(b.a.Text,{style:Z,children:"3-4 characters (example ETH, BTC, BAT, etc.). No spaces. Only alphanumerical characters."})]}),Object(a.jsx)(b.a.Label,{column:"true",md:5,htmlFor:"supply",style:Q,children:"Total Supply"}),Object(a.jsxs)(m.a,{md:6,children:[Object(a.jsx)(b.a.Control,{readOnly:!0,style:X,plaintext:!0,type:"text",id:"supply",value:n.supply}),Object(a.jsxs)(b.a.Text,{style:Z,children:["Total amount of tokens to be generated. Minimum value is 1, and maximum ",A,"."]})]}),Object(a.jsx)(b.a.Label,{column:"true",md:5,htmlFor:"owner",style:Q,children:"Owner"}),Object(a.jsxs)(m.a,{md:6,children:[Object(a.jsx)(b.a.Control,{readOnly:!0,style:X,plaintext:!0,type:"text",id:"owner",value:n.owner}),Object(a.jsx)(b.a.Text,{style:Z,children:"Owner Address"})]}),Object(a.jsx)(m.a,{sm:{span:6,offset:3},className:"text-center mt-4 mb-4",children:Object(a.jsx)(g.a,{variant:"success",type:"button",name:"finish",onClick:o,children:"Deploy!"})})]})]})},te={display:"flex",minHeight:"50vh",flexDirection:"column",justifyContent:"space-around",alignItems:"center"};var ne=function(){var e=Object(r.useContext)(u),t=e.jwt,n=e.setKey,c=Object(r.useState)(null),s=Object(N.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)(null),d=Object(N.a)(l,2),p=d[0],j=d[1],b=function(){var e=Object(v.a)(y.a.mark((function e(){var a,r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t);case 3:a=e.sent,r=a.address,c=a.hash,i(r),j(c),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Invalid request"),n("token");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){t&&b()}),[t]),Object(a.jsxs)(x,{style:te,children:[Object(a.jsx)("div",{children:o&&p?Object(a.jsx)("h2",{children:" Success! Your contract has been deployed "}):Object(a.jsx)("h2",{children:" Your contract is being deployed..."})}),o&&p?Object(a.jsxs)("div",{style:{textAlign:"center"},children:[Object(a.jsx)("h3",{children:"Contract information"}),Object(a.jsx)("p",{children:"Use these informations to interact with your contract"}),Object(a.jsxs)("p",{children:[Object(a.jsx)("a",{href:"https://ropsten.etherscan.io/address/".concat(o),className:"btn btn-info",rel:"noreferrer",target:"_blank",style:{marginRight:"8px"},children:"Contract Address"}),Object(a.jsx)("a",{href:"https://ropsten.etherscan.io/tx/".concat(p),rel:"noreferrer",target:"_blank",className:"btn btn-info",style:{marginRight:"8px"},children:"Hash"}),Object(a.jsx)("button",{type:"button",className:"btn btn-success",style:{marginRight:"8px"},children:"Download Contract"})]})]}):Object(a.jsxs)("div",{style:{textAlign:"center"},children:[Object(a.jsx)("h3",{children:"DO NOT REFRESH OR LEAVE THIS PAGE!"}),Object(a.jsx)("p",{children:"Refreshing or leaving the page will invalid contract deployment"}),Object(a.jsx)("div",{className:"spinner-border",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})]})]})},ae={margin:"0px auto",width:"100%",paddingTop:"20px",paddingBottom:"20px",color:"#f79007"};var re=function(){var e=Object(r.useContext)(u),t=e.key,n=e.setKey;return Object(a.jsxs)(l.a,{style:{width:"80%",margin:"50px auto",paddingBottom:"10%"},children:[Object(a.jsx)(l.a.Header,{children:Object(a.jsx)(p,{})}),Object(a.jsxs)(o.a,{id:"controlled-tab-example",activeKey:t,onSelect:function(e){return n(e)},className:"justify-content-center",variant:"pills",style:ae,children:[Object(a.jsx)(i.Tab,{eventKey:"token",title:"Token Type",disabled:!0,children:"token"===t?Object(a.jsx)(T,{onSelect:function(e){return n(e)},style:{backgroundColor:"#f79007"}}):Object(a.jsx)("div",{})}),Object(a.jsx)(i.Tab,{eventKey:"attributes",title:"Token Attributes",disabled:!0,children:"attributes"===t?Object(a.jsx)(K,{onSelect:function(e){return n(e)}}):Object(a.jsx)("div",{})}),Object(a.jsx)(i.Tab,{eventKey:"payment",title:"Payment Details",disabled:!0,children:"payment"===t?Object(a.jsx)(U,{onSelect:function(e){return n(e)}}):Object(a.jsx)("div",{})}),Object(a.jsx)(i.Tab,{eventKey:"confirmation",title:"Confirmation",disabled:!0,children:"confirmation"===t?Object(a.jsx)(ee,{onSelect:function(e){return n(e)}}):Object(a.jsx)("div",{})}),Object(a.jsx)(i.Tab,{eventKey:"loading",title:"Deploying",disabled:!0,children:"loading"===t?Object(a.jsx)(ne,{onSelect:function(e){return n(e)}}):Object(a.jsx)("div",{})})]})]})};n(591);var ce=function(e){var t=e.children,n=Object(r.useState)("token"),c=Object(N.a)(n,2),s=c[0],o=c[1],i=Object(r.useState)({}),l=Object(N.a)(i,2),d=l[0],p=l[1],j=Object(r.useState)(""),b=Object(N.a)(j,2),h=b[0],x=b[1],m=Object(r.useState)({}),O=Object(N.a)(m,2),f=O[0],y=O[1],v=Object(r.useState)([]),g=Object(N.a)(v,2),w=g[0],k=g[1];Object(r.useEffect)((function(){window.ethereum&&(y(window.ethereum),window.web3.version.getNetwork((function(e,t){if(!e){if(3!==Number(t))return alert("Mude a rede para Ropten antes de continuar!");window.ethereum.enable().then((function(){k(window.web3.eth.accounts)})).catch((function(e){var t=e.message;alert("".concat(t,"\nPor favor, conecte-se com uma carteira v\xe1lida."))}))}})))}),[]);var T={accounts:w,ethereum:f,jwt:h,key:s,setJwt:x,setKey:o,setTokenData:p,tokenData:d};return Object(a.jsx)(u.Provider,{value:T,children:t})};n(592);s.a.render(Object(a.jsx)(ce,{children:Object(a.jsx)(re,{})}),document.getElementById("root"))}},[[593,1,2]]]);
//# sourceMappingURL=main.ab481fcc.chunk.js.map